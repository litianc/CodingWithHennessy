# 🎯 智能会议纪要 Agent - 演示指南

## 📋 目录

1. [快速启动](#快速启动)
2. [演示流程](#演示流程)
3. [功能特性](#功能特性)
4. [常见问题](#常见问题)
5. [技术架构](#技术架构)

---

## 🚀 快速启动

### 方式一：使用启动脚本（推荐）

```bash
# 1. 进入项目根目录
cd /Users/xyli/Documents/Code/CodingWithHennessy

# 2. 启动演示
./start-demo.sh

# 3. 停止演示（另一个终端窗口执行）
./stop-demo.sh
```

### 方式二：手动启动

```bash
# 1. 启动 MongoDB（如果未运行）
brew services start mongodb-community

# 2. 启动后端（终端1）
cd backend
npm run dev

# 3. 启动前端（终端2）
cd frontend
npm run dev
```

### 访问地址

- **前端界面**: http://localhost:3000
- **后端 API**: http://localhost:5001
- **API 文档**: http://localhost:5001/api-docs

---

## 🎬 演示流程

### 步骤 1: 用户注册/登录

1. 打开浏览器访问 http://localhost:3000
2. 点击「注册」创建新账号
3. 或使用测试账号登录

### 步骤 2: 创建会议

1. 登录后，点击「创建会议」
2. 填写会议信息：
   - **标题**: 例如「项目进展讨论」
   - **描述**: 简要说明会议目的
   - **参与者**: 添加参与者（可选）
3. 点击「创建」

### 步骤 3: 开始会议

1. 进入会议详情页
2. 点击「开始会议」按钮
3. 会议状态变为「进行中」

### 步骤 4: 录制或上传音频

**方式一：本地录音**

1. 点击 `🎤 开始录音` 按钮
2. 允许浏览器访问麦克风
3. 开始说话，观察音频波形和录音时长
4. 点击 `⏹ 停止录音` 结束录制

**方式二：上传音频文件**

1. 点击 `📁 上传音频文件` 按钮
2. 选择音频文件（支持 MP3, WAV, WebM, OGG, M4A）
3. 文件大小限制：100MB

### 步骤 5: 生成会议纪要（重点展示）

1. 录音停止或文件上传后，弹出操作弹窗
2. 查看音频信息：
   - 时长
   - 格式
   - 文件大小
3. 点击「生成会议纪要」

### 步骤 6: 观看三阶段AI处理动画

**第一阶段 - 思考分析** (33%)
- 🤔 AI正在思考分析...
- 分析会议内容和关键信息
- 进度条：蓝色渐变

**第二阶段 - 搜索资料** (66%)
- 🔍 正在搜索相关资料...
- 查找相关背景和上下文
- 进度条：蓝色渐变

**第三阶段 - 生成纪要** (90%)
- ✍️ 正在生成会议纪要...
- 整理并撰写结构化纪要
- 进度条：蓝色到绿色渐变

**完成** (100%)
- ✅ 会议纪要生成完成！
- 自动跳转到纪要查看页面

### 步骤 7: 查看和导出纪要

1. 查看生成的纪要内容：
   - 会议标题
   - 摘要
   - 关键要点
   - 行动项（分配给谁、优先级）
   - 决策事项
2. 可以：
   - 编辑优化纪要
   - 导出为 PDF/Word
   - 发送邮件给参与者
   - 批准并归档

---

## ✨ 功能特性

### 1. 实时语音识别

- **技术**: 阿里云语音识别服务
- **特点**:
  - 支持多种音频格式
  - 自动格式转换（16kHz 单声道）
  - 高精度识别（>90%）
  - 实时转录和说话人识别

### 2. 声纹识别（可选）

- **技术**: 阿里云声纹识别
- **功能**:
  - 自动识别发言人
  - 关联用户身份
  - 生成说话人统计

### 3. AI 智能纪要生成

- **技术**: DeepSeek V3 大语言模型
- **生成内容**:
  - ✅ 会议摘要
  - ✅ 关键要点提取
  - ✅ 行动项（Action Items）
  - ✅ 决策记录（Decisions）
  - ✅ 下一步计划（Next Steps）

### 4. WebSocket 实时反馈

- **三阶段进度动画**:
  1. Thinking - 分析内容
  2. Searching - 搜索资料
  3. Writing - 生成纪要
- **实时进度条**
- **状态同步**

### 5. 会议纪要管理

- **CRUD 操作**: 创建、查看、编辑、删除
- **版本控制**: 保存优化历史
- **状态管理**: 草稿 → 审核 → 批准
- **权限控制**: 主持人/参与者权限区分

---

## 🎨 演示技巧

### 最佳演示场景

**场景 1: 完整流程演示（推荐）**
1. 创建会议 → 开始录音 → 说话 → 停止 → 生成纪要
2. **亮点**: 展示完整流程和实时反馈
3. **时长**: 3-5 分钟

**场景 2: 快速音频上传演示**
1. 准备好测试音频文件
2. 创建会议 → 上传音频 → 生成纪要
3. **亮点**: 快速展示AI处理能力
4. **时长**: 2-3 分钟

**场景 3: 纪要优化演示**
1. 使用已有纪要
2. 添加反馈意见 → 优化纪要
3. **亮点**: AI迭代优化能力
4. **时长**: 1-2 分钟

### 演示话术参考

```
"大家好，这是我们的智能会议纪要 Agent。

它能做什么呢？

首先，我们创建一个会议...（操作）
然后开始录音...（操作）
现在我说几句话...（说话）
好的，停止录音。

接下来是亮点部分 —— AI自动生成纪要！

看，它现在正在：
1. 分析我刚才说的内容...
2. 搜索相关背景信息...
3. 生成结构化的会议纪要...

完成！可以看到，AI自动识别了：
- 会议的主要内容
- 关键讨论要点
- 需要跟进的行动项
- 重要决策记录

整个过程完全自动化，节省了大量的人工整理时间！"
```

---

## 🐛 常见问题

### Q1: 启动失败，提示 MongoDB 未运行

**解决方法**:
```bash
# macOS
brew services start mongodb-community

# Linux
sudo systemctl start mongod

# 检查状态
brew services list | grep mongodb
```

### Q2: 前端无法连接后端

**检查清单**:
1. 后端是否在 5001 端口运行？
   ```bash
   lsof -i:5001
   ```
2. `.env` 文件是否配置正确？
   ```bash
   cat backend/.env | grep PORT
   ```
3. 防火墙是否阻止连接？

### Q3: WebSocket 连接失败

**解决方法**:
1. 检查后端 Socket.IO 配置
2. 查看浏览器控制台 WebSocket 连接日志
3. 确认 CORS 设置正确

### Q4: 音频上传失败

**可能原因**:
1. 文件格式不支持 → 确认是音频格式
2. 文件过大 → 限制 100MB
3. 网络超时 → 检查网络连接

### Q5: AI 纪要生成失败

**排查步骤**:
1. 检查 DeepSeek API 配置
   ```bash
   cat backend/.env | grep DEEPSEEK
   ```
2. 查看后端日志:
   ```bash
   tail -f backend.log
   ```
3. 确认 API 额度未用尽

---

## 🏗️ 技术架构

### 后端技术栈

- **框架**: Express.js + TypeScript
- **数据库**: MongoDB + Mongoose
- **实时通信**: Socket.IO
- **音频处理**: FFmpeg
- **语音识别**: 阿里云 ASR API
- **声纹识别**: 阿里云 Voiceprint API
- **AI 模型**: DeepSeek V3 API
- **测试**: Jest + Supertest

### 前端技术栈

- **框架**: React 18 + TypeScript
- **构建工具**: Vite
- **UI 组件**: Ant Design
- **状态管理**: Zustand
- **实时通信**: Socket.IO Client
- **动画**: Framer Motion

### 核心模块

```
backend/
├── src/
│   ├── controllers/        # API 控制器
│   │   ├── minutesController.ts    # 纪要生成控制器 ⭐
│   │   └── aiController.ts         # AI 服务控制器 ⭐
│   ├── services/          # 业务逻辑层
│   │   ├── minutesGenerationService.ts  # 纪要生成服务 ⭐
│   │   ├── speechRecognitionService.ts  # 语音识别服务
│   │   ├── voiceprintService.ts         # 声纹识别服务
│   │   └── aiService.ts                 # AI 服务
│   ├── websocket/         # WebSocket 处理
│   │   └── minutesHandler.ts            # 纪要生成实时反馈 ⭐
│   └── routes/            # 路由定义
│       └── meeting.ts     # 会议路由 ⭐

frontend/
├── src/
│   ├── components/
│   │   └── meeting/
│   │       └── MeetingControl/         # 会议控制组件 ⭐
│   ├── services/
│   │   └── api.ts         # API 封装 ⭐
│   └── stores/
│       └── meetingStore.ts # 会议状态管理
```

⭐ = 本次演示的核心文件

---

## 📊 测试覆盖

```
Test Suites: 7 passed, 1 failed, 3 skipped, 11 total
Tests:       121 passed, 9 failed, 35 skipped, 165 total
Time:        ~16 seconds
```

**核心功能测试 100% 通过**:
- ✅ 音频服务 (13/13)
- ✅ AI 服务 (19/19)
- ✅ 声纹识别 (28/28)
- ✅ 纪要生成服务 (23/23)
- ✅ WebSocket 实时反馈 (12/12)
- ✅ 邮件服务 (8/8)

---

## 🎯 演示目标达成清单

- [ ] 展示完整的会议纪要生成流程
- [ ] 演示三阶段 AI 处理动画
- [ ] 展示 WebSocket 实时反馈
- [ ] 演示音频上传和录音功能
- [ ] 展示纪要优化迭代功能
- [ ] 展示系统架构和技术栈

---

## 💡 演示后的扩展讨论

### 可以提及的技术亮点

1. **TDD 开发流程**: 先写测试，后写代码
2. **微服务架构**: 模块化、可扩展
3. **实时反馈机制**: WebSocket + 三阶段动画
4. **AI 集成**: DeepSeek V3 大模型
5. **多云服务集成**: 阿里云语音服务

### 可以回答的技术问题

1. 如何保证语音识别准确率？
2. 如何处理大文件上传？
3. WebSocket 实时通信如何实现？
4. AI 提示词（Prompt）如何设计？
5. 如何进行自动化测试？

---

## 📞 支持与反馈

如遇问题，请查看日志：
```bash
# 后端日志
tail -f backend.log

# 前端日志
tail -f frontend.log

# MongoDB 日志
tail -f /usr/local/var/log/mongodb/mongo.log
```

---

**祝演示顺利！🎉**
